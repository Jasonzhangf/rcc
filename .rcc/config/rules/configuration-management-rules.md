# RCC配置管理规则

## 1. 配置文件分类规范

### 1.1 静态配置文件（内部模块配置）
- **定义**: 系统构建时预定义的配置文件，由模块开发人员维护
- **存储位置**: 项目源代码目录中
- **示例**: 模块默认配置、模板配置、示例配置

### 1.2 动态配置文件（运行时生成配置）
- **定义**: 系统运行时动态生成或修改的配置文件
- **存储位置**: 构建后的可访问目录
- **示例**: 模块间通信配置、运行时状态配置、临时配置

### 1.3 用户配置文件
- **定义**: 用户自定义的配置文件
- **存储位置**: 用户目录 (~/.rcc/) 或指定配置目录
- **示例**: 用户API密钥、自定义路由规则、个性化设置

## 2. 配置目录结构规范

### 2.1 项目源码配置目录
```
src/
├── config/
│   ├── static/           # 静态配置文件
│   │   ├── templates/    # 配置模板
│   │   ├── defaults/     # 默认配置
│   │   └── examples/     # 示例配置
│   └── dynamic/          # 动态配置生成逻辑
└── modules/
    └── [module-name]/
        └── config/       # 模块特定配置
```

### 2.2 构建后配置目录
```
dist/
└── config/
    ├── runtime/          # 运行时配置
    ├── cache/            # 缓存配置
    └── generated/        # 动态生成配置
```

### 2.3 用户配置目录
```
~/.rcc/
├── config/               # 用户自定义配置
├── cache/                # 用户缓存数据
└── logs/                 # 用户日志文件
```

## 3. 配置文件命名规范

### 3.1 基本命名原则
- 使用小写字母和连字符分隔
- 使用描述性名称
- 包含配置类型和模块信息

### 3.2 文件命名格式
```
{module}-{type}-{purpose}.json
```

示例：
- `pipeline-static-defaults.json`
- `config-runtime-state.json`
- `user-custom-routes.json`

## 4. 版本管理规范

### 4.1 配置文件版本控制
- 静态配置文件随代码版本控制
- 动态配置文件版本号与系统版本号关联
- 用户配置文件单独版本管理

### 4.2 版本兼容性
- 向后兼容原则
- 版本迁移机制
- 版本验证和回滚机制

## 5. 访问权限规范

### 5.1 文件访问权限
- 静态配置文件: 读取权限 (644)
- 动态配置文件: 读写权限 (664)
- 敏感配置文件: 严格权限 (600)

### 5.2 访问控制
- 模块只能访问自身相关的配置
- 跨模块配置访问需要授权
- 用户配置访问需要身份验证