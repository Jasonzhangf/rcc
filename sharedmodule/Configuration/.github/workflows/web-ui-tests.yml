{
  name: Web UI Tests,
  on: {
    push: {
      branches: [
        "main",
        "develop"
      ]
    },
    pull_request: {
      branches: [
        "main"
      ]
    }
  },
  jobs: {
    test: {
      runs-on: ubuntu-latest,
      strategy: {
        matrix: {
          node-version: [
            16,
            18,
            20
          ]
        }
      },
      steps: [
        {
          uses: actions/checkout@v4
        },
        {
          name: Setup Node.js,
          uses: actions/setup-node@v4,
          with: {
            node-version: ${{ matrix.node-version }},
            cache: npm
          }
        },
        {
          name: Install dependencies,
          run: npm ci
        },
        {
          name: Run type checking,
          run: npm run typecheck
        },
        {
          name: Run linting,
          run: npm run lint
        },
        {
          name: Run unit tests,
          run: npm run test:ci
        },
        {
          name: Run UI tests,
          run: npm run test:ui:coverage
        },
        {
          name: Upload coverage reports,
          uses: codecov/codecov-action@v3,
          with: {
            file: ./coverage/lcov.info
          }
        }
      ]
    }
  }
}