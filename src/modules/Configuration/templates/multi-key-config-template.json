{
  "$schema": "./config-schema.json",
  "metadata": {
    "name": "Multi-Key Configuration Template",
    "version": "2.0.0",
    "description": "Configuration template with multi-key authentication support",
    "created": "2025-01-01T00:00:00Z",
    "author": "RCC Configuration System"
  },
  
  "LOG": false,
  "LOG_LEVEL": "info",
  "HOST": "${CONFIG_HOST:-127.0.0.1}",
  "PORT": "${CONFIG_PORT:-3456}",
  "APIKEY": "${GLOBAL_API_KEY:-your-global-secret-key}",
  "API_TIMEOUT_MS": "${API_TIMEOUT:-600000}",
  "PROXY_URL": "${PROXY_URL:-}",
  
  "Providers": [
    {
      "_template": "Single Key Provider (Backward Compatible)",
      "name": "single-key-provider",
      "api_base_url": "https://api.single.com/v1/chat/completions",
      "api_key": "${SINGLE_API_KEY:-sk-your-single-key-here}",
      "models": ["model-1", "model-2"],
      "transformer": {
        "model-1": {
          "use": ["enhancetool"]
        }
      }
    },
    
    {
      "_template": "Multi-Key Provider with Direct Keys",
      "name": "multi-key-direct",
      "api_base_url": "https://api.multi.com/v1/chat/completions",
      "api_key": [
        "${PRIMARY_API_KEY:-sk-primary-key-here}",
        "${BACKUP_API_KEY:-sk-backup-key-here}",
        "${EMERGENCY_API_KEY:-sk-emergency-key-here}"
      ],
      "auth_type": "api_key",
      "models": ["multi-model-1", "multi-model-2", "multi-model-3"],
      "transformer": {
        "multi-model-1": {
          "use": ["enhancetool"]
        },
        "multi-model-2": {
          "use": [
            ["maxtoken", {"max_tokens": 4096}]
          ]
        }
      }
    },
    
    {
      "_template": "File-based Multi-Key Provider",
      "name": "file-key-provider",
      "api_base_url": "https://api.filekeys.com/v1/chat/completions",
      "api_key": [
        "./keys/primary.key",
        "./keys/backup.key",
        "${FALLBACK_KEY:-sk-fallback-direct-key}"
      ],
      "auth_type": "api_key",
      "models": ["file-model-1", "file-model-2"],
      "transformer": {
        "file-model-1": {
          "use": ["enhancetool"]
        }
      }
    },
    
    {
      "_template": "OAuth Provider with Token File",
      "name": "oauth-provider",
      "api_base_url": "https://api.oauth.com/v1/chat/completions",
      "api_key": [
        "./oauth/primary-token.json",
        "./oauth/backup-token.json"
      ],
      "auth_type": "oauth",
      "models": ["oauth-model-1", "oauth-enterprise"],
      "oauth_config": {
        "token_refresh_url": "https://auth.oauth.com/token",
        "client_id": "${OAUTH_CLIENT_ID}",
        "client_secret": "${OAUTH_CLIENT_SECRET}",
        "scope": "api:read api:write chat:completions"
      }
    },
    
    {
      "_template": "Hybrid Provider (Mixed Direct Keys and Files)",
      "name": "hybrid-provider",
      "api_base_url": "https://api.hybrid.com/v1/chat/completions",
      "api_key": [
        "${HYBRID_PRIMARY:-sk-hybrid-primary-key}",
        "./keys/hybrid-backup.key",
        "./keys/hybrid-premium.token"
      ],
      "auth_type": "api_key",
      "models": ["hybrid-model-1"],
      "transformer": {
        "hybrid-model-1": {
          "use": ["enhancetool"]
        }
      }
    }
  ],

  "StatusLine": {
    "enabled": true,
    "currentStyle": "powerline",
    "default": {
      "modules": ["mode", "file", "position"]
    },
    "powerline": {
      "modules": ["mode", "file", "position", "encoding", "branch"],
      "theme": {
        "background": "#005f87",
        "foreground": "#ffffff",
        "separator": ""
      }
    }
  },

  "Router": {
    "default": "multi-key-direct,multi-model-1",
    "background": "file-key-provider,file-model-1",
    "think": "hybrid-provider,hybrid-model-1",
    "longContext": "oauth-provider,oauth-enterprise",
    "longContextThreshold": 120000,
    "webSearch": "multi-key-direct,multi-model-2",
    "image": "file-key-provider,file-model-2"
  },

  "transformers": [
    {
      "name": "enhancetool",
      "description": "Enhanced tool calling support",
      "enabled": true
    },
    {
      "name": "maxtoken",
      "description": "Maximum token limiter",
      "enabled": true
    }
  ],

  "CUSTOM_ROUTER_PATH": "${CUSTOM_ROUTER:-}",

  "_multi_key_config": {
    "rotation_strategy": "round_robin",
    "key_health_check": {
      "enabled": true,
      "interval_ms": 300000,
      "timeout_ms": 10000,
      "failure_threshold": 3
    },
    "failover": {
      "enabled": true,
      "timeout_ms": 30000,
      "retry_count": 2
    },
    "file_monitoring": {
      "enabled": true,
      "poll_interval_ms": 60000,
      "auto_reload": true
    },
    "security": {
      "mask_keys_in_logs": true,
      "validate_file_permissions": true,
      "require_https": true
    }
  },

  "_template_info": {
    "usage": "This template demonstrates all supported authentication formats",
    "formats": {
      "single_key": "Backward compatible single API key as string",
      "multi_key_direct": "Multiple API keys as array of strings", 
      "multi_key_files": "API keys loaded from files",
      "oauth": "OAuth authentication with token files",
      "hybrid": "Mix of direct keys and file-based keys"
    },
    "environment_variables": [
      "CONFIG_HOST", "CONFIG_PORT", "GLOBAL_API_KEY", "API_TIMEOUT",
      "SINGLE_API_KEY", "PRIMARY_API_KEY", "BACKUP_API_KEY", "EMERGENCY_API_KEY",
      "FALLBACK_KEY", "OAUTH_CLIENT_ID", "OAUTH_CLIENT_SECRET", "HYBRID_PRIMARY"
    ],
    "required_directories": [
      "./keys/", "./oauth/"
    ],
    "example_key_files": {
      "./keys/primary.key": "sk-file-primary-key-example",
      "./keys/backup.key": "sk-file-backup-key-example", 
      "./oauth/primary-token.json": {
        "access_token": "oauth_access_token_example",
        "token_type": "Bearer",
        "expires_in": 3600,
        "refresh_token": "refresh_token_example"
      }
    }
  }
}